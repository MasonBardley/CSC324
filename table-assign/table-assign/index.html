<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

<head>
  <title>CSC 324 | Table Assignment</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Table assignment for CSC 324 at Georgetown College, Kentucky.">
  <meta name="keywords" content="computer science web javascript">
  <!-- styles -->
  <link rel="stylesheet" href="css/tufte.css">
</head>

<body>
  <article>
    <h1>My Favorite Bhangra Artists</h1>
    <section>
      <p>
        The following table gives a list of great Bhangra 
        musicians.  Enjoy!
      </p>
      <table id="bhangra">
      </table>
    </section>
  </article>
  <script src="js/custom.js">
  const artists = [
   {
     name: "Ms Scandalous",
     birthYear: 1985,
     link: "https://www.youtube.com/watch?v=2FPivlfvxu0"
   },
   {
    name: "Juggy D",
    birthYear: 1981,
    link: "https://www.youtube.com/watch?v=1jAc_-FVjdI"
  },
  {
    name: "Sukhbir Singh",
    birthYear: 1969,
    link: "https://www.youtube.com/watch?v=HiprNF9Jad0"
  },
  {
    name: "Abrar-ul-Haq",
    birthYear: 1989,
    link: "https://www.youtube.com/watch?v=-lnnVIP7FEc"
  },
  {
    name: "Rishi Rich",
    birthYear: 1970,
    link: "https://www.youtube.com/watch?v=O95-w2gACuA"
  }
 ];
    const target = document.getElementById("bhangra");
    const bhangraTable = makeTable(artists);
    target.appendChild(bhangraTable);
    
/* The piece of code above looks at each element in mountains before appending it to the newly
created table. */


    // utility functions:

    // function to make a table from an array of objects:
    function makeTable(arr) {
      // create a table element:
      const table = document.createElement("table");
      // use first object in the array to make the header:
      table.innerHTML = makeTableHeader(arr[0]);
      for (let obj of arr) {
        table.innerHTML += makeTableRow(obj);
      }
      console.log(table.innerHTML);
      // don't forget to return the table:
      return table;
    }

    // function to make a table header:
    function makeTableHeader(obj) {
      let inner = "<tr>";
      // fill it in with the th-elements:
      for (let columnName of Object.keys(obj)) {
        if (columnName !== "url") {
          inner += `<th>${columnName}</th>`;
        }
      }
      // add the closer:
      inner += "</tr>";
      console.log(inner);
      return inner;
    }

    // function to make a table row:
    function makeTableRow(obj) {
      let inner = "<tr>";
      for (let key of Object.keys(obj)) {
        if (key === "name") {
          const anchorHTML = `<a href="${obj["url"]}" target="_blank">${obj["name"]}</a>`;
          inner += `<td>${anchorHTML}</td>`;
        } else if (key === "url") {
          inner += "";
        } else {
          inner += `<td>${obj[key]}</td>`;
        }
      }
      inner += "</tr>";
      return inner;
    }

 </script>
</body>

</html>